import{l as B,x as I,r as g,c as w,e as p,f as r,i as o,j as n,y as u,u as l,z as c,A as v,p as P,s as j,k as V}from"./DnNEn_NX.js";import{_ as $}from"./00VmGBLM.js";import{_ as z}from"./eV2-a3mD.js";import{_ as A}from"./BVOVxMHc.js";import"./D1XAgVw0.js";const L={class:"flex items-start justify-center pt-16 pb-8 w-full"},F={class:"progress-container mb-8"},R={class:"flex justify-between items-center"},q={class:"step-circle"},D={key:1},E={class:"step-circle"},S={key:1},G={class:"step-circle"},H={key:1},J={key:0,class:"account-selection"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},M={class:"radio-container"},O={class:"radio-label"},Q=["checked"],W={class:"radio-container"},X={class:"radio-label"},Y=["checked"],Z={key:1,class:"form-section"},ee={key:0,class:"form-grid"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},oe={class:"form-field"},se={class:"form-field"},te={class:"form-field"},ne={class:"form-field"},de={class:"form-field"},ae={class:"form-field"},ie={class:"form-field"},re={class:"form-field"},ue={class:"form-field"},me={class:"form-field"},ce={key:1,class:"form-grid"},pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},fe={class:"form-field"},ve={class:"form-field"},Ve={class:"form-field"},_e={class:"form-field"},be={class:"form-field"},xe={class:"form-field"},ge={class:"form-field"},we={class:"form-field"},ye={class:"form-field"},ke={class:"form-field"},he={class:"form-field"},Ue={class:"form-field"},Ne={class:"form-field"},Ce={class:"flex gap-4 mt-4"},Te={key:2,class:"completion-section text-center"},Be={__name:"signup",setup(Ie){const{$swal:_}=I(),a=g(1),i=g(""),y=g(!1),s=g({account:"",nickname:"",password:"",confirmPassword:"",fullName:"",email:"",phone:"",lineId:"",companyName:"",jobTitle:"",businessName:"",taxId:"",businessPhone:""}),b=m=>{i.value=m},k=()=>{i.value&&(a.value=2)},h=()=>{a.value=1},U=async()=>{if(await N()){y.value=!0;try{await new Promise(m=>setTimeout(m,2e3)),a.value=3}catch(m){console.error("Registration error:",m),await _.fire({title:"註冊失敗",text:"請稍後再試",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#ef4444"})}finally{y.value=!1}}},N=async()=>{const m=["account","nickname","password","confirmPassword","fullName","email","phone"];for(const e of m)if(!s.value[e])return await _.fire({title:"欄位未填寫完整",text:"請填寫所有必填欄位",icon:"warning",confirmButtonText:"確定",confirmButtonColor:"#f59e0b"}),!1;return s.value.password!==s.value.confirmPassword?(await _.fire({title:"密碼不一致",text:"密碼與確認密碼不符",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#ef4444"}),!1):i.value==="business"&&(!s.value.businessName||!s.value.taxId)?(await _.fire({title:"企業資料未完整",text:"請填寫企業相關資料",icon:"warning",confirmButtonText:"確定",confirmButtonColor:"#f59e0b"}),!1):!0};return(m,e)=>{const f=P,x=j,d=$,C=z,T=A;return r(),w(T,{name:"auth","main-class":"flex items-start justify-center pt-16 pb-8","logo-style":"width: auto;"},{title:p(()=>e[28]||(e[28]=[V("註冊")])),default:p(()=>[o("div",L,[n(C,{class:u(["signup-card w-full max-w-lg",{"mb-8":l(i)==="business"&&l(a)===2}])},{default:p(()=>[o("div",F,[o("div",R,[o("div",{class:u(["step-item",{active:l(a)===1,completed:l(a)>1}])},[o("div",q,[l(a)>1?(r(),w(f,{key:0,name:"heroicons:check",class:"w-5 h-5"})):(r(),c("span",D,"1"))]),e[29]||(e[29]=o("div",{class:"step-text"},"選擇帳號類型",-1))],2),o("div",{class:u(["step-line",{completed:l(a)>1}])},null,2),o("div",{class:u(["step-item",{active:l(a)===2,completed:l(a)>2}])},[o("div",E,[l(a)>2?(r(),w(f,{key:0,name:"heroicons:check",class:"w-5 h-5"})):(r(),c("span",S,"2"))]),e[30]||(e[30]=o("div",{class:"step-text"},"填入資料",-1))],2),o("div",{class:u(["step-line",{completed:l(a)>2}])},null,2),o("div",{class:u(["step-item",{active:l(a)===3,completed:l(a)>3}])},[o("div",G,[l(a)>3?(r(),w(f,{key:0,name:"heroicons:check",class:"w-5 h-5"})):(r(),c("span",H,"3"))]),e[31]||(e[31]=o("div",{class:"step-text"},"完成",-1))],2)])]),l(a)===1?(r(),c("div",J,[o("div",K,[o("div",{class:u(["account-option",{selected:l(i)==="personal"}])},[o("button",{onClick:e[0]||(e[0]=t=>b("personal")),class:u(["account-btn personal-btn w-full",{active:l(i)==="personal"}])},[n(f,{name:"heroicons:user",class:"w-8 h-8 mb-2"}),e[32]||(e[32]=o("div",{class:"text-lg font-semibold"},"個人帳號",-1))],2),o("div",M,[o("label",O,[o("input",{type:"radio",name:"accountType",value:"personal",checked:l(i)==="personal",onChange:e[1]||(e[1]=t=>b("personal")),class:"radio-btn"},null,40,Q)])])],2),o("div",{class:u(["account-option",{selected:l(i)==="business"}])},[o("button",{onClick:e[2]||(e[2]=t=>b("business")),class:u(["account-btn business-btn w-full",{active:l(i)==="business"}])},[n(f,{name:"heroicons:building-office",class:"w-8 h-8 mb-2"}),e[33]||(e[33]=o("div",{class:"text-lg font-semibold"},"企業帳號",-1))],2),o("div",W,[o("label",X,[o("input",{type:"radio",name:"accountType",value:"business",checked:l(i)==="business",onChange:e[3]||(e[3]=t=>b("business")),class:"radio-btn"},null,40,Y)])])],2)]),n(x,{onClick:k,block:"",size:"lg",class:"next-btn",disabled:!l(i)},{default:p(()=>e[34]||(e[34]=[V(" 下一步 ")])),_:1,__:[34]},8,["disabled"])])):v("",!0),l(a)===2?(r(),c("div",Z,[l(i)==="personal"?(r(),c("div",ee,[o("div",le,[o("div",oe,[n(d,{modelValue:l(s).account,"onUpdate:modelValue":e[4]||(e[4]=t=>l(s).account=t),placeholder:"帳號"},null,8,["modelValue"])]),o("div",se,[n(d,{modelValue:l(s).nickname,"onUpdate:modelValue":e[5]||(e[5]=t=>l(s).nickname=t),placeholder:"暱稱"},null,8,["modelValue"])]),o("div",te,[n(d,{modelValue:l(s).password,"onUpdate:modelValue":e[6]||(e[6]=t=>l(s).password=t),placeholder:"密碼",type:"password"},null,8,["modelValue"])]),o("div",ne,[n(d,{modelValue:l(s).confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=t=>l(s).confirmPassword=t),placeholder:"確認密碼",type:"password"},null,8,["modelValue"])]),o("div",de,[n(d,{modelValue:l(s).fullName,"onUpdate:modelValue":e[8]||(e[8]=t=>l(s).fullName=t),placeholder:"姓名"},null,8,["modelValue"])]),o("div",ae,[n(d,{modelValue:l(s).email,"onUpdate:modelValue":e[9]||(e[9]=t=>l(s).email=t),placeholder:"信箱",type:"email"},null,8,["modelValue"])]),o("div",ie,[n(d,{modelValue:l(s).phone,"onUpdate:modelValue":e[10]||(e[10]=t=>l(s).phone=t),placeholder:"手機號碼"},null,8,["modelValue"])]),o("div",re,[n(d,{modelValue:l(s).lineId,"onUpdate:modelValue":e[11]||(e[11]=t=>l(s).lineId=t),placeholder:"Line帳號"},null,8,["modelValue"])]),o("div",ue,[n(d,{modelValue:l(s).companyName,"onUpdate:modelValue":e[12]||(e[12]=t=>l(s).companyName=t),placeholder:"公司名稱"},null,8,["modelValue"])]),o("div",me,[n(d,{modelValue:l(s).jobTitle,"onUpdate:modelValue":e[13]||(e[13]=t=>l(s).jobTitle=t),placeholder:"職稱"},null,8,["modelValue"])])])])):v("",!0),l(i)==="business"?(r(),c("div",ce,[o("div",pe,[o("div",fe,[n(d,{modelValue:l(s).account,"onUpdate:modelValue":e[14]||(e[14]=t=>l(s).account=t),placeholder:"帳號"},null,8,["modelValue"])]),o("div",ve,[n(d,{modelValue:l(s).nickname,"onUpdate:modelValue":e[15]||(e[15]=t=>l(s).nickname=t),placeholder:"暱稱"},null,8,["modelValue"])]),o("div",Ve,[n(d,{modelValue:l(s).password,"onUpdate:modelValue":e[16]||(e[16]=t=>l(s).password=t),placeholder:"密碼",type:"password"},null,8,["modelValue"])]),o("div",_e,[n(d,{modelValue:l(s).confirmPassword,"onUpdate:modelValue":e[17]||(e[17]=t=>l(s).confirmPassword=t),placeholder:"確認密碼",type:"password"},null,8,["modelValue"])]),o("div",be,[n(d,{modelValue:l(s).fullName,"onUpdate:modelValue":e[18]||(e[18]=t=>l(s).fullName=t),placeholder:"姓名"},null,8,["modelValue"])]),o("div",xe,[n(d,{modelValue:l(s).email,"onUpdate:modelValue":e[19]||(e[19]=t=>l(s).email=t),placeholder:"信箱",type:"email"},null,8,["modelValue"])]),o("div",ge,[n(d,{modelValue:l(s).phone,"onUpdate:modelValue":e[20]||(e[20]=t=>l(s).phone=t),placeholder:"手機號碼"},null,8,["modelValue"])]),o("div",we,[n(d,{modelValue:l(s).lineId,"onUpdate:modelValue":e[21]||(e[21]=t=>l(s).lineId=t),placeholder:"Line帳號"},null,8,["modelValue"])]),o("div",ye,[n(d,{modelValue:l(s).companyName,"onUpdate:modelValue":e[22]||(e[22]=t=>l(s).companyName=t),placeholder:"公司名稱"},null,8,["modelValue"])]),o("div",ke,[n(d,{modelValue:l(s).jobTitle,"onUpdate:modelValue":e[23]||(e[23]=t=>l(s).jobTitle=t),placeholder:"職稱"},null,8,["modelValue"])]),o("div",he,[n(d,{modelValue:l(s).businessName,"onUpdate:modelValue":e[24]||(e[24]=t=>l(s).businessName=t),placeholder:"企業名稱"},null,8,["modelValue"])]),o("div",Ue,[n(d,{modelValue:l(s).taxId,"onUpdate:modelValue":e[25]||(e[25]=t=>l(s).taxId=t),placeholder:"統一編號"},null,8,["modelValue"])]),o("div",Ne,[n(d,{modelValue:l(s).businessPhone,"onUpdate:modelValue":e[26]||(e[26]=t=>l(s).businessPhone=t),placeholder:"企業電話"},null,8,["modelValue"])])])])):v("",!0),o("div",Ce,[n(x,{onClick:U,size:"lg",class:"register-btn flex-1",loading:l(y)},{default:p(()=>e[35]||(e[35]=[V(" 註冊 ")])),_:1,__:[35]},8,["loading"]),n(x,{onClick:h,variant:"outline",size:"lg",class:"back-btn flex-1"},{default:p(()=>e[36]||(e[36]=[V(" 回上一頁 ")])),_:1,__:[36]})])])):v("",!0),l(a)===3?(r(),c("div",Te,[n(f,{name:"heroicons:check-circle",class:"w-16 h-16 text-green-500 mx-auto mb-4"}),e[38]||(e[38]=o("h3",{class:"text-2xl font-bold mb-4 text-gray-800"},"註冊完成！",-1)),e[39]||(e[39]=o("p",{class:"text-gray-600 mb-6"},"您的帳號已成功建立",-1)),n(x,{onClick:e[27]||(e[27]=t=>m.$router.push("/login")),size:"lg",class:"login-btn"},{default:p(()=>e[37]||(e[37]=[V(" 前往登入 ")])),_:1,__:[37]})])):v("",!0)]),_:1},8,["class"])])]),_:1})}}},Le=B(Be,[["__scopeId","data-v-bd9e0b1f"]]);export{Le as default};
