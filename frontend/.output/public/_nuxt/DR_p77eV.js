import{aq as n,ar as s,as as o,v as r}from"./DnNEn_NX.js";const d=n(async u=>{let e,t;const a=s();if([e,t]=o(()=>a.initializeAuth()),await e,t(),!a.isLoggedIn)return console.log("[Auth Middleware] User not authenticated, redirecting to login"),r("/auth/login");try{a.user||([e,t]=o(()=>a.fetchUser()),await e,t())}catch(i){return console.warn("[Auth Middleware] Token validation failed:",i.message),r("/auth/login")}});export{d as default};
