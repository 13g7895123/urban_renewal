import{Z as n,$ as s,a0 as i,i as o}from"./Ci9T5MJN.js";const d=n(async u=>{let e,t;const a=s();if([e,t]=i(()=>a.initializeAuth()),await e,t(),!a.isLoggedIn)return console.log("[Auth Middleware] User not authenticated, redirecting to login"),o("/auth/login");try{a.user||([e,t]=i(()=>a.fetchUser()),await e,t())}catch(r){return console.warn("[Auth Middleware] Token validation failed:",r.message),o("/auth/login")}});export{d as default};
