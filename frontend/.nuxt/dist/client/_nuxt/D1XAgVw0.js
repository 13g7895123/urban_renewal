import{S as I,Y as F,r as z,N as h}from"./DnNEn_NX.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const b=()=>{};function r(a,i){function t(...l){return new Promise((e,n)=>{Promise.resolve(a(()=>i.apply(this,l),{fn:i,thisArg:this,args:l})).then(e).catch(n)})}return t}function T(a,i={}){let t,l,e=b;const n=d=>{clearTimeout(d),e(),e=b};let f;return d=>{const s=I(a),v=I(i.maxWait);return t&&n(t),s<=0||v!==void 0&&v<=0?(l&&(n(l),l=void 0),Promise.resolve(d())):new Promise((c,m)=>{e=i.rejectOnCancel?m:c,f=d,v&&!l&&(l=setTimeout(()=>{t&&n(t),l=void 0,c(f())},v)),t=setTimeout(()=>{l&&n(l),l=void 0,c(d())},s)})}}function g(a,i=200,t={}){return r(T(i,t),a)}const x=(a,i,t=!0)=>{const l=F("form-events",void 0),e=F("form-group",void 0),n=F("form-inputs",void 0);e&&(!t||a!=null&&a.legend?e.inputId.value=void 0:a!=null&&a.id&&(e.inputId.value=a==null?void 0:a.id),n&&(n.value[e.name.value]=e.inputId.value));const f=z(!1);function u(c,m){l&&l.emit({type:c,path:m})}function d(){u("blur",e==null?void 0:e.name.value),f.value=!0}function s(){u("change",e==null?void 0:e.name.value)}const v=g(()=>{(f.value||e!=null&&e.eagerValidation.value)&&u("input",e==null?void 0:e.name.value)},300);return{inputId:h(()=>(a==null?void 0:a.id)??(e==null?void 0:e.inputId.value)),name:h(()=>(a==null?void 0:a.name)??(e==null?void 0:e.name.value)),size:h(()=>{var m;const c=i.size[e==null?void 0:e.size.value]?e==null?void 0:e.size.value:null;return(a==null?void 0:a.size)??c??((m=i.default)==null?void 0:m.size)}),color:h(()=>{var c;return(c=e==null?void 0:e.error)!=null&&c.value?"red":a==null?void 0:a.color}),emitFormBlur:d,emitFormInput:v,emitFormChange:s}};export{g as a,b as n,x as u};
